#include "Sound.h"

/*************************************************************
 *
 * Construtor
 *
 *************************************************************/
Sound::Sound()
{
	chunk = NULL;
	channel = 0;
}

/*************************************************************
 *
 * Construtor
 *
 *************************************************************/
Sound::Sound(std::string file)
{
	Open(file);
}

/*************************************************************
 *
 * Abrir musica
 *
 *************************************************************/
void Sound::Open(std::string file)
{
	chunk = ResourceManager::GetSound(file);
}

/*************************************************************
 *
 * Tocar musica
 *
 *************************************************************/
void Sound::Play(int times)
{
	channel = Mix_PlayChannel(-1, chunk.get(), times);
}

/*************************************************************
 *
 * Parar musica
 *
 *************************************************************/
void Sound::Stop()
{
	Mix_HaltChannel(channel);
}

/*************************************************************
 *
 * Sounda esta aberta
 *
 *************************************************************/
bool Sound::IsOpen()
{
	return chunk == NULL ? false : true;
}

/*************************************************************
 *
 * IsPlaying
 *
 *************************************************************/
bool Sound::IsPlaying()
{
	return Mix_Playing(0);
}
